<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Biorbd: WrappingCylinder.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Biorbd
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_ac6fcce1f6490facfa943805d521ea50.html">Muscles</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">WrappingCylinder.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#define BIORBD_API_EXPORTS</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#include &quot;Muscles/WrappingCylinder.h&quot;</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160; </div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &quot;Utils/String.h&quot;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &quot;Utils/RotoTrans.h&quot;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &quot;RigidBody/Joints.h&quot;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160; </div>
<div class="line"><a name="l00008"></a><span class="lineno"><a class="line" href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#aa51cdc0eda1be00a1ca05ccfb5c2510c">    8</a></span>&#160;<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#aa51cdc0eda1be00a1ca05ccfb5c2510c">biorbd::muscles::WrappingCylinder::WrappingCylinder</a>() :</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;    biorbd::muscles::<a class="code" href="classbiorbd_1_1muscles_1_1WrappingObject.html">WrappingObject</a> (),</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;    m_dia(std::make_shared&lt;double&gt;(0)),</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    m_length(std::make_shared&lt;double&gt;(0)),</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;    m_isCylinderPositiveSign(std::make_shared&lt;bool&gt;(true)),</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;    m_RTtoParent(std::make_shared&lt;biorbd::utils::RotoTrans&gt;()),</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;    m_p1Wrap(std::make_shared&lt;biorbd::utils::Vector3d&gt;()),</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    m_p2Wrap(std::make_shared&lt;biorbd::utils::Vector3d&gt;()),</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;    m_lengthAroundWrap(std::make_shared&lt;double&gt;(0))</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;{</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    *<a class="code" href="classbiorbd_1_1utils_1_1Node.html#add835cd4134faf1df26adefb2c487264">m_typeOfNode</a> = biorbd::utils::NODE_TYPE::WRAPPING_CYLINDER;</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;}</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160; </div>
<div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#a5031ddfbe9f87763e9236eabc8612a53">   21</a></span>&#160;<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#aa51cdc0eda1be00a1ca05ccfb5c2510c">biorbd::muscles::WrappingCylinder::WrappingCylinder</a>(</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;        <span class="keyword">const</span> <a class="code" href="classbiorbd_1_1utils_1_1RotoTrans.html">biorbd::utils::RotoTrans</a> &amp;rt,</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;        <span class="keywordtype">double</span> diameter,</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;        <span class="keywordtype">double</span> length,</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;        <span class="keywordtype">bool</span> isCylinderPositiveSign) :</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    biorbd::muscles::<a class="code" href="classbiorbd_1_1muscles_1_1WrappingObject.html">WrappingObject</a> (rt.trans()),</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    m_dia(std::make_shared&lt;double&gt;(diameter)),</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    m_length(std::make_shared&lt;double&gt;(length)),</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    m_isCylinderPositiveSign(std::make_shared&lt;bool&gt;(isCylinderPositiveSign)),</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    m_RTtoParent(std::make_shared&lt;biorbd::utils::RotoTrans&gt;(rt)),</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    m_p1Wrap(std::make_shared&lt;biorbd::utils::Vector3d&gt;()),</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    m_p2Wrap(std::make_shared&lt;biorbd::utils::Vector3d&gt;()),</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    m_lengthAroundWrap(std::make_shared&lt;double&gt;(0))</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;{</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    *<a class="code" href="classbiorbd_1_1utils_1_1Node.html#add835cd4134faf1df26adefb2c487264">m_typeOfNode</a> = biorbd::utils::NODE_TYPE::WRAPPING_CYLINDER;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;}</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160; </div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#a748a8876920425bf7057809e45290c9f">   38</a></span>&#160;<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#aa51cdc0eda1be00a1ca05ccfb5c2510c">biorbd::muscles::WrappingCylinder::WrappingCylinder</a>(</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        <span class="keyword">const</span> <a class="code" href="classbiorbd_1_1utils_1_1RotoTrans.html">biorbd::utils::RotoTrans</a> &amp;rt,</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        <span class="keywordtype">double</span> diameter,</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        <span class="keywordtype">double</span> length,</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        <span class="keywordtype">bool</span> isCylinderPositiveSign,</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        <span class="keyword">const</span> <a class="code" href="classbiorbd_1_1utils_1_1String.html">biorbd::utils::String</a> &amp;name,</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        <span class="keyword">const</span> <a class="code" href="classbiorbd_1_1utils_1_1String.html">biorbd::utils::String</a> &amp;parentName) :</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    biorbd::muscles::<a class="code" href="classbiorbd_1_1muscles_1_1WrappingObject.html">WrappingObject</a> (rt.trans(), name, parentName),</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    m_dia(std::make_shared&lt;double&gt;(diameter)),</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    m_length(std::make_shared&lt;double&gt;(length)),</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    m_isCylinderPositiveSign(std::make_shared&lt;bool&gt;(isCylinderPositiveSign)),</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    m_RTtoParent(std::make_shared&lt;biorbd::utils::RotoTrans&gt;(rt)),</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    m_p1Wrap(std::make_shared&lt;biorbd::utils::Vector3d&gt;()),</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    m_p2Wrap(std::make_shared&lt;biorbd::utils::Vector3d&gt;()),</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    m_lengthAroundWrap(std::make_shared&lt;double&gt;(0))</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;{</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    *<a class="code" href="classbiorbd_1_1utils_1_1Node.html#add835cd4134faf1df26adefb2c487264">m_typeOfNode</a> = biorbd::utils::NODE_TYPE::WRAPPING_CYLINDER;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;}</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160; </div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#ab5987b65836ccbb1b49877059787d955">   57</a></span>&#160;<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder.html">biorbd::muscles::WrappingCylinder</a> <a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#ab5987b65836ccbb1b49877059787d955">biorbd::muscles::WrappingCylinder::DeepCopy</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder.html">biorbd::muscles::WrappingCylinder</a> copy;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    copy.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#ab5987b65836ccbb1b49877059787d955">DeepCopy</a>(*<span class="keyword">this</span>);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keywordflow">return</span> copy;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;}</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160; </div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#a369f134015ca7e52688bfdaf1dd5003c">   64</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#ab5987b65836ccbb1b49877059787d955">biorbd::muscles::WrappingCylinder::DeepCopy</a>(<span class="keyword">const</span> <a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder.html">biorbd::muscles::WrappingCylinder</a> &amp;other)</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;{</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <a class="code" href="classbiorbd_1_1utils_1_1Vector3d.html#ae0f5e1f02483e22b6817d35419e7a05a">biorbd::muscles::WrappingObject::DeepCopy</a>(other);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    *m_dia = *other.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#a315c5aa231607fee32116d74293eb153">m_dia</a>;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    *m_length = *other.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#adca06f3c16509a250d4d1e8ae544d4fa">m_length</a>;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    *m_isCylinderPositiveSign = *other.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#a202f7960a06fc3a28bc5ef53f5a2501c">m_isCylinderPositiveSign</a>;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    *m_RTtoParent = *other.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#ab9cc980358bd8c310538e84eb8c69933">m_RTtoParent</a>;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    *m_p1Wrap = other.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#ae5abc72ab4d4d1243b95a0e948827cd9">m_p1Wrap</a>-&gt;DeepCopy();</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    *m_p2Wrap = other.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#afe247c9e321084b58e66bdb57fffef81">m_p2Wrap</a>-&gt;DeepCopy();</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    *m_lengthAroundWrap = *other.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#a96d3dc5ff6d63af64c1ca0491d1946df">m_lengthAroundWrap</a>;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;}</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160; </div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#a52f21a2ad33f49ace9850e3042fae424">   76</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#a52f21a2ad33f49ace9850e3042fae424">biorbd::muscles::WrappingCylinder::wrapPoints</a>(</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <span class="keyword">const</span> <a class="code" href="classbiorbd_1_1utils_1_1RotoTrans.html">biorbd::utils::RotoTrans</a>&amp; rt,</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        <span class="keyword">const</span> <a class="code" href="classbiorbd_1_1utils_1_1Vector3d.html">biorbd::utils::Vector3d</a>&amp; p1_bone,</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        <span class="keyword">const</span> <a class="code" href="classbiorbd_1_1utils_1_1Vector3d.html">biorbd::utils::Vector3d</a>&amp; p2_bone,</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        <a class="code" href="classbiorbd_1_1utils_1_1Vector3d.html">biorbd::utils::Vector3d</a>&amp; p1,</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        <a class="code" href="classbiorbd_1_1utils_1_1Vector3d.html">biorbd::utils::Vector3d</a>&amp; p2,</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        <span class="keywordtype">double</span> *length)</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;{</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="comment">// This function takes the position of the wrapping and finds the location where muscle 1 and 2 leave the wrapping object</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="comment">// Find the nodes in the RT reference (of the cylinder)</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html">NodeMusclePair</a> p_glob(p1_bone, p2_bone);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    p_glob.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#a7ef006d705f4f1501b6ff25caa6324a8">m_p1</a>-&gt;applyRT(rt.<a class="code" href="classbiorbd_1_1utils_1_1RotoTrans.html#a5120c116ae07693ae47e15885b83d5b5">transpose</a>());</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    p_glob.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#ac95a59e59d4a9ea4719da91fa86f1f43">m_p2</a>-&gt;applyRT(rt.<a class="code" href="classbiorbd_1_1utils_1_1RotoTrans.html#a5120c116ae07693ae47e15885b83d5b5">transpose</a>());</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="comment">// Find the tangents of these points to the circle (cylinder seen from above)</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <a class="code" href="classbiorbd_1_1utils_1_1Vector3d.html">biorbd::utils::Vector3d</a> p1_tan(0, 0, 0);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <a class="code" href="classbiorbd_1_1utils_1_1Vector3d.html">biorbd::utils::Vector3d</a> p2_tan(0, 0, 0);</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    findTangentToCircle(*p_glob.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#a7ef006d705f4f1501b6ff25caa6324a8">m_p1</a>, p1_tan);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    findTangentToCircle(*p_glob.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#ac95a59e59d4a9ea4719da91fa86f1f43">m_p2</a>, p2_tan);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160; </div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="comment">// Find the vertical component</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html">NodeMusclePair</a> tanPoints(p1_tan, p2_tan);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    findVerticalNode(p_glob, tanPoints);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="comment">// If asked, compute the distance distance traveled on the periphery of the cylinder</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="comment">// Apply pythagorus to the cercle arc</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">if</span> (length != <span class="keyword">nullptr</span>) <span class="comment">// If it is not nullptr </span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        *length = computeLength(tanPoints);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="comment">// Reset the points in global (space)</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    tanPoints.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#a7ef006d705f4f1501b6ff25caa6324a8">m_p1</a>-&gt;applyRT(rt);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    tanPoints.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#ac95a59e59d4a9ea4719da91fa86f1f43">m_p2</a>-&gt;applyRT(rt);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="comment">// Reset the desired values</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    p1 = *tanPoints.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#a7ef006d705f4f1501b6ff25caa6324a8">m_p1</a>;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    p2 = *tanPoints.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#ac95a59e59d4a9ea4719da91fa86f1f43">m_p2</a>;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160; </div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="comment">// Store the values for a futur call</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    m_p1Wrap = tanPoints.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#a7ef006d705f4f1501b6ff25caa6324a8">m_p1</a>;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    m_p2Wrap = tanPoints.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#ac95a59e59d4a9ea4719da91fa86f1f43">m_p2</a>;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordflow">if</span> (length != <span class="keyword">nullptr</span>) <span class="comment">// If it is not nullptr</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        *m_lengthAroundWrap = *length;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;}</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160; </div>
<div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#a2009925ca672aef6340c18bb1b9e978e">  121</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#a52f21a2ad33f49ace9850e3042fae424">biorbd::muscles::WrappingCylinder::wrapPoints</a>(</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        <a class="code" href="classbiorbd_1_1rigidbody_1_1Joints.html">biorbd::rigidbody::Joints</a>&amp; model,</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        <span class="keyword">const</span> <a class="code" href="classbiorbd_1_1rigidbody_1_1GeneralizedCoordinates.html">biorbd::rigidbody::GeneralizedCoordinates</a>&amp; Q,</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <span class="keyword">const</span> <a class="code" href="classbiorbd_1_1utils_1_1Vector3d.html">biorbd::utils::Vector3d</a>&amp; p1_bone,</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <span class="keyword">const</span> <a class="code" href="classbiorbd_1_1utils_1_1Vector3d.html">biorbd::utils::Vector3d</a>&amp; p2_bone,</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <a class="code" href="classbiorbd_1_1utils_1_1Vector3d.html">biorbd::utils::Vector3d</a>&amp; p1,</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        <a class="code" href="classbiorbd_1_1utils_1_1Vector3d.html">biorbd::utils::Vector3d</a>&amp; p2,</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <span class="keywordtype">double</span> *length) {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="comment">// This function takes a model and a position of the model and returns the location where muscle 1 et 2 leave the wrapping object</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160; </div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    wrapPoints(RT(model,Q), p1_bone, p2_bone, p1, p2, length);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;}</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160; </div>
<div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#af0f471bccea1ef7b45f0e707fb10d4c7">  134</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#a52f21a2ad33f49ace9850e3042fae424">biorbd::muscles::WrappingCylinder::wrapPoints</a>(</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <a class="code" href="classbiorbd_1_1utils_1_1Vector3d.html">biorbd::utils::Vector3d</a>&amp; p1,</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        <a class="code" href="classbiorbd_1_1utils_1_1Vector3d.html">biorbd::utils::Vector3d</a>&amp; p2,</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <span class="keywordtype">double</span> *length){</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    p1 = *m_p1Wrap;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    p2 = *m_p2Wrap;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keywordflow">if</span> (length != <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        *length = *m_lengthAroundWrap;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;}</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#a04a15c817bbce16c5b3eed6948eb5c9d">  144</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classbiorbd_1_1utils_1_1RotoTrans.html">biorbd::utils::RotoTrans</a>&amp; <a class="code" href="classbiorbd_1_1muscles_1_1WrappingObject.html#a64c0a7884d3b09d7ab806bf1db7466ec">biorbd::muscles::WrappingCylinder::RT</a>(</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <a class="code" href="classbiorbd_1_1rigidbody_1_1Joints.html">biorbd::rigidbody::Joints</a> &amp;model,</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        <span class="keyword">const</span> <a class="code" href="classbiorbd_1_1rigidbody_1_1GeneralizedCoordinates.html">biorbd::rigidbody::GeneralizedCoordinates</a>&amp; Q,</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        <span class="keywordtype">bool</span> updateKin)</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;{</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordflow">if</span> (updateKin) {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        model.<a class="code" href="classbiorbd_1_1rigidbody_1_1Joints.html#acc3c3c5153c8a4ae665618f6f92e0c97">UpdateKinematicsCustom</a>(&amp;Q);</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    }</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160; </div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="comment">// Get the RotoTrans matrix of the cylinder in space</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    *m_RT = model.<a class="code" href="classbiorbd_1_1rigidbody_1_1Joints.html#aa49b5f07580ec70850e8cfe76d1e2e96">globalJCS</a>(*m_parentName) * *m_RTtoParent;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordflow">return</span> *m_RT;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;}</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160; </div>
<div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#a9f05c3191ffd38e07afc9d49f0c58bf7">  158</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#a9f05c3191ffd38e07afc9d49f0c58bf7">biorbd::muscles::WrappingCylinder::setDiameter</a>(<span class="keywordtype">double</span> val)</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;{</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    *m_dia = val;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;}</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160; </div>
<div class="line"><a name="l00163"></a><span class="lineno"><a class="line" href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#a9ddf0c3062bad32c83f7bf0717256e6a">  163</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#a9ddf0c3062bad32c83f7bf0717256e6a">biorbd::muscles::WrappingCylinder::diameter</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordflow">return</span> *m_dia;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;}</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#a2a53bf18c68953fc32348de1ecf418ae">  168</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#a2a53bf18c68953fc32348de1ecf418ae">biorbd::muscles::WrappingCylinder::radius</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordflow">return</span> *m_dia/2;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;}</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160; </div>
<div class="line"><a name="l00173"></a><span class="lineno"><a class="line" href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#a70aa97c2000cfe974ac20eabd3949227">  173</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#a70aa97c2000cfe974ac20eabd3949227">biorbd::muscles::WrappingCylinder::setLength</a>(<span class="keywordtype">double</span> val)</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;{</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    *m_length = val;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;}</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160; </div>
<div class="line"><a name="l00178"></a><span class="lineno"><a class="line" href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#a16c19bdd35fdcad70b714f953fc622d5">  178</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#a16c19bdd35fdcad70b714f953fc622d5">biorbd::muscles::WrappingCylinder::length</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keywordflow">return</span> *m_length;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;}</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160; </div>
<div class="line"><a name="l00183"></a><span class="lineno"><a class="line" href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#a9e5d86574d10dd18ffb07ad2af5a8a64">  183</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#a9e5d86574d10dd18ffb07ad2af5a8a64">biorbd::muscles::WrappingCylinder::findTangentToCircle</a>(</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        <span class="keyword">const</span> <a class="code" href="classbiorbd_1_1utils_1_1Vector3d.html">biorbd::utils::Vector3d</a>&amp; p,</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <a class="code" href="classbiorbd_1_1utils_1_1Vector3d.html">biorbd::utils::Vector3d</a>&amp; p_tan)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keywordtype">double</span> p_dot = p.block(0,0,2,1).dot(p.block(0,0,2,1));</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keyword">const</span> Eigen::Vector2d&amp; Q0(radius()*radius()/p_dot*p.block(0,0,2,1));</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    Eigen::Matrix2d tp;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    tp &lt;&lt; 0, -1,</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;          1, 0;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160; </div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keyword">const</span> Eigen::Vector2d&amp; T(radius()/p_dot*std::sqrt(p_dot-radius()*radius()) * tp * p.block(0,0,2,1));</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160; </div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="comment">// GEt the tangent on both sides</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html">NodeMusclePair</a> m(p,p);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    m.m_p1-&gt;block(0,0,2,1) = Q0 + T;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    m.m_p2-&gt;block(0,0,2,1) = Q0 - T;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160; </div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="comment">// Select on of the two tangents</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    selectTangents(m, p_tan);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;}</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno"><a class="line" href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#a46dea9e9b4303e4d25ae802452773144">  203</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#a46dea9e9b4303e4d25ae802452773144">biorbd::muscles::WrappingCylinder::selectTangents</a>(</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <span class="keyword">const</span> <a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html">NodeMusclePair</a> &amp;p1,</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <a class="code" href="classbiorbd_1_1utils_1_1Vector3d.html">biorbd::utils::Vector3d</a> &amp;p_tan)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordflow">if</span> (m_isCylinderPositiveSign){</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <span class="keywordflow">if</span> ((*p1.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#ac95a59e59d4a9ea4719da91fa86f1f43">m_p2</a>)(0) &gt;= (*p1.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#a7ef006d705f4f1501b6ff25caa6324a8">m_p1</a>)(0))</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            p_tan = *p1.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#ac95a59e59d4a9ea4719da91fa86f1f43">m_p2</a>;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            p_tan = *p1.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#a7ef006d705f4f1501b6ff25caa6324a8">m_p1</a>;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <span class="keywordflow">if</span> ( (*p1.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#ac95a59e59d4a9ea4719da91fa86f1f43">m_p2</a>)(0) &lt; (*p1.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#a7ef006d705f4f1501b6ff25caa6324a8">m_p1</a>)(0))</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;            p_tan = *p1.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#ac95a59e59d4a9ea4719da91fa86f1f43">m_p2</a>;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            p_tan = *p1.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#a7ef006d705f4f1501b6ff25caa6324a8">m_p1</a>;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    }</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160; </div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;}</div>
<div class="line"><a name="l00219"></a><span class="lineno"><a class="line" href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#afb08343b429a9a4f8f094564d3686cb9">  219</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#afb08343b429a9a4f8f094564d3686cb9">biorbd::muscles::WrappingCylinder::findVerticalNode</a>(<span class="keyword">const</span> <a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html">NodeMusclePair</a> &amp;pointsInGlobal,</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        <a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html">NodeMusclePair</a> &amp;pointsToWrap)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="comment">// Before eerything, make sure the point wrap</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keywordflow">if</span> (!checkIfWraps(pointsInGlobal, pointsToWrap)){ <span class="comment">// If it doesn&#39;t pass by the wrap, put NaN and stop</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;3; ++i){</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            (*pointsToWrap.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#a7ef006d705f4f1501b6ff25caa6324a8">m_p1</a>)(i) = static_cast&lt;double&gt;(NAN);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            (*pointsToWrap.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#ac95a59e59d4a9ea4719da91fa86f1f43">m_p2</a>)(i) = static_cast&lt;double&gt;(NAN);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        }</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    }</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <span class="comment">// Make sure the z component won&#39;t cause any problem in the rotation computation</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        (*pointsToWrap.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#a7ef006d705f4f1501b6ff25caa6324a8">m_p1</a>)(2) = 0;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        (*pointsToWrap.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#ac95a59e59d4a9ea4719da91fa86f1f43">m_p2</a>)(2) = 0;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    }</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160; </div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160; </div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="comment">// Strategy : Find the matrix of the passage between the aligned points in x and the cylinder. Find the location where the points cross the cylinder</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160; </div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="comment">// X is the straight line between the two points</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <a class="code" href="classbiorbd_1_1utils_1_1Vector3d.html">biorbd::utils::Vector3d</a> X(*pointsInGlobal.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#ac95a59e59d4a9ea4719da91fa86f1f43">m_p2</a> - *pointsInGlobal.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#a7ef006d705f4f1501b6ff25caa6324a8">m_p1</a>);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="comment">// Z is the empty axis of the cylinder</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <a class="code" href="classbiorbd_1_1utils_1_1Vector3d.html">biorbd::utils::Vector3d</a> Z(0,0,1);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <a class="code" href="classbiorbd_1_1utils_1_1Vector3d.html">biorbd::utils::Vector3d</a> Y(Z.cross(X));</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="comment">// Re-compute X for it to be aligned with the cylinder</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    X = Y.cross(Z);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="comment">// Normalise everything</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    X = X/X.norm();</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    Y = Y/Y.norm();</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    Z = Z/Z.norm();</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="comment">// Concatenate to get the rotation matrix</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <a class="code" href="classbiorbd_1_1utils_1_1RotoTrans.html">biorbd::utils::RotoTrans</a> R;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    R &lt;&lt; X(0), X(1), X(2), 0,</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;         Y(0), Y(1), Y(2), 0,</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;         Z(0), Z(1), Z(2), 0,</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;         0,    0,    0,    1;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="comment">// Turn the points in the R reference</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <a class="code" href="classbiorbd_1_1utils_1_1Vector3d.html">biorbd::utils::Vector3d</a> globA(*pointsInGlobal.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#a7ef006d705f4f1501b6ff25caa6324a8">m_p1</a>);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <a class="code" href="classbiorbd_1_1utils_1_1Vector3d.html">biorbd::utils::Vector3d</a> globB(*pointsInGlobal.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#ac95a59e59d4a9ea4719da91fa86f1f43">m_p2</a>);</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <a class="code" href="classbiorbd_1_1utils_1_1Vector3d.html">biorbd::utils::Vector3d</a> wrapA(*pointsToWrap.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#a7ef006d705f4f1501b6ff25caa6324a8">m_p1</a>);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <a class="code" href="classbiorbd_1_1utils_1_1Vector3d.html">biorbd::utils::Vector3d</a> wrapB(*pointsToWrap.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#ac95a59e59d4a9ea4719da91fa86f1f43">m_p2</a>);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    globA.<a class="code" href="classbiorbd_1_1utils_1_1Vector3d.html#ade280f2a2ed7036f18693d6791750feb">applyRT</a>(R);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    globB.<a class="code" href="classbiorbd_1_1utils_1_1Vector3d.html#ade280f2a2ed7036f18693d6791750feb">applyRT</a>(R);</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    wrapA.<a class="code" href="classbiorbd_1_1utils_1_1Vector3d.html#ade280f2a2ed7036f18693d6791750feb">applyRT</a>(R);</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    wrapB.<a class="code" href="classbiorbd_1_1utils_1_1Vector3d.html#ade280f2a2ed7036f18693d6791750feb">applyRT</a>(R);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160; </div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="comment">// The height depends on the relative distance</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    (*pointsToWrap.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#a7ef006d705f4f1501b6ff25caa6324a8">m_p1</a>)(2) = (wrapA(0)-globB(0)) / (globA(0)-globB(0)) * ((*pointsInGlobal.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#a7ef006d705f4f1501b6ff25caa6324a8">m_p1</a>)(2)-(*pointsInGlobal.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#ac95a59e59d4a9ea4719da91fa86f1f43">m_p2</a>)(2)) + (*pointsInGlobal.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#ac95a59e59d4a9ea4719da91fa86f1f43">m_p2</a>)(2);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    (*pointsToWrap.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#ac95a59e59d4a9ea4719da91fa86f1f43">m_p2</a>)(2) = (wrapB(0)-globB(0)) / (globA(0)-globB(0)) * ((*pointsInGlobal.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#a7ef006d705f4f1501b6ff25caa6324a8">m_p1</a>)(2)-(*pointsInGlobal.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#ac95a59e59d4a9ea4719da91fa86f1f43">m_p2</a>)(2)) + (*pointsInGlobal.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#ac95a59e59d4a9ea4719da91fa86f1f43">m_p2</a>)(2);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160; </div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;}</div>
<div class="line"><a name="l00273"></a><span class="lineno"><a class="line" href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#a813418cd2c5ae678170456cf7d6e8bfd">  273</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#a813418cd2c5ae678170456cf7d6e8bfd">biorbd::muscles::WrappingCylinder::checkIfWraps</a>(</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <span class="keyword">const</span> <a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html">NodeMusclePair</a> &amp;pointsInGlobal,</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html">NodeMusclePair</a> &amp;pointsToWrap)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keywordtype">bool</span> isWrap = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160; </div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="comment">// First quick tests</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="comment">// if both points are on the left and we have to go left</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="keywordflow">if</span> (m_isCylinderPositiveSign){</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        <span class="keywordflow">if</span> ((*pointsInGlobal.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#a7ef006d705f4f1501b6ff25caa6324a8">m_p1</a>)(0) &gt; radius() &amp;&amp; (*pointsInGlobal.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#ac95a59e59d4a9ea4719da91fa86f1f43">m_p2</a>)(0) &gt; radius())</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;            isWrap = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    }</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="comment">// if both points are on the right and we have to go right</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        <span class="keywordflow">if</span> ((*pointsInGlobal.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#a7ef006d705f4f1501b6ff25caa6324a8">m_p1</a>)(0) &lt; -radius() &amp;&amp; (*pointsInGlobal.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#ac95a59e59d4a9ea4719da91fa86f1f43">m_p2</a>)(0) &lt; -radius())</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            isWrap = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    }</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160; </div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="comment">// If we are on top of the wrap, it is impossible to determine because the wrap Si on est en haut du wrap*, </span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="comment">// is not a cylinder but a half-cylinder</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="comment">// * en haut lorsque vue de dessus avec l&#39;axe y pointant vers le haut...</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keywordflow">if</span> ( ( (*pointsInGlobal.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#a7ef006d705f4f1501b6ff25caa6324a8">m_p1</a>)(1) &gt; 0 &amp;&amp; (*pointsInGlobal.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#ac95a59e59d4a9ea4719da91fa86f1f43">m_p2</a>)(1) &gt; 0) || ( (*pointsInGlobal.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#a7ef006d705f4f1501b6ff25caa6324a8">m_p1</a>)(1) &lt; 0 &amp;&amp; (*pointsInGlobal.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#ac95a59e59d4a9ea4719da91fa86f1f43">m_p2</a>)(1) &lt; 0) )</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        isWrap = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160; </div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="comment">// If we have a height* smaller than the radius, there is a numerical aberation</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="comment">// * en haut lorsque vue de dessus avec l&#39;axe y pointant vers le haut...</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keywordflow">if</span> ( abs( (*pointsInGlobal.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#a7ef006d705f4f1501b6ff25caa6324a8">m_p1</a>)(1)) &lt; radius() || abs( (*pointsInGlobal.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#ac95a59e59d4a9ea4719da91fa86f1f43">m_p2</a>)(1)) &lt; radius() )</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        isWrap = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160; </div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="comment">// If we have reached this stage, one test is left</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="comment">// If the straight line between the two points go through the cylinder,there is a wrap</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="keywordflow">if</span> (    ( (*pointsToWrap.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#a7ef006d705f4f1501b6ff25caa6324a8">m_p1</a>)(0) &lt; (*pointsToWrap.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#ac95a59e59d4a9ea4719da91fa86f1f43">m_p2</a>)(0) &amp;&amp; (*pointsInGlobal.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#a7ef006d705f4f1501b6ff25caa6324a8">m_p1</a>)(0) &gt; (*pointsInGlobal.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#ac95a59e59d4a9ea4719da91fa86f1f43">m_p2</a>)(0)) ||</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;            ( (*pointsToWrap.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#a7ef006d705f4f1501b6ff25caa6324a8">m_p1</a>)(0) &gt; (*pointsToWrap.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#ac95a59e59d4a9ea4719da91fa86f1f43">m_p2</a>)(0) &amp;&amp; (*pointsInGlobal.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#a7ef006d705f4f1501b6ff25caa6324a8">m_p1</a>)(0) &lt; (*pointsInGlobal.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#ac95a59e59d4a9ea4719da91fa86f1f43">m_p2</a>)(0))   )</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        isWrap = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        isWrap = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160; </div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="comment">// Return the answer</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keywordflow">return</span> isWrap;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;}</div>
<div class="line"><a name="l00312"></a><span class="lineno"><a class="line" href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#a395c5d3bb55d1aed0a3c6aa1e9483b2a">  312</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#a395c5d3bb55d1aed0a3c6aa1e9483b2a">biorbd::muscles::WrappingCylinder::computeLength</a>(<span class="keyword">const</span> <a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html">NodeMusclePair</a> &amp;p)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="keywordtype">double</span> arc = std::acos(    ( (*p.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#a7ef006d705f4f1501b6ff25caa6324a8">m_p1</a>)(0) * (*p.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#ac95a59e59d4a9ea4719da91fa86f1f43">m_p2</a>)(0) + (*p.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#a7ef006d705f4f1501b6ff25caa6324a8">m_p1</a>)(1) * (*p.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#ac95a59e59d4a9ea4719da91fa86f1f43">m_p2</a>)(1))</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                                            /</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;             std::sqrt( ((*p.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#a7ef006d705f4f1501b6ff25caa6324a8">m_p1</a>)(0) * (*p.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#a7ef006d705f4f1501b6ff25caa6324a8">m_p1</a>)(0) + (*p.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#a7ef006d705f4f1501b6ff25caa6324a8">m_p1</a>)(1) * (*p.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#a7ef006d705f4f1501b6ff25caa6324a8">m_p1</a>)(1)) *</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                        ( (*p.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#ac95a59e59d4a9ea4719da91fa86f1f43">m_p2</a>)(0) * (*p.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#ac95a59e59d4a9ea4719da91fa86f1f43">m_p2</a>)(0) + (*p.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#ac95a59e59d4a9ea4719da91fa86f1f43">m_p2</a>)(1) * (*p.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#ac95a59e59d4a9ea4719da91fa86f1f43">m_p2</a>)(1))   )</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;            ) * radius();</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160; </div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="keywordflow">return</span> std::sqrt(arc*arc + ( (*p.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#a7ef006d705f4f1501b6ff25caa6324a8">m_p1</a>)(2) - (*p.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#ac95a59e59d4a9ea4719da91fa86f1f43">m_p2</a>)(2)) * ( (*p.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#a7ef006d705f4f1501b6ff25caa6324a8">m_p1</a>)(2) - (*p.<a class="code" href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#ac95a59e59d4a9ea4719da91fa86f1f43">m_p2</a>)(2))  );</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aclassbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair_html_ac95a59e59d4a9ea4719da91fa86f1f43"><div class="ttname"><a href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#ac95a59e59d4a9ea4719da91fa86f1f43">biorbd::muscles::WrappingCylinder::NodeMusclePair::m_p2</a></div><div class="ttdeci">std::shared_ptr&lt; biorbd::utils::Vector3d &gt; m_p2</div><div class="ttdoc">Point 2.</div><div class="ttdef"><b>Definition:</b> <a href="WrappingCylinder_8h_source.html#l00170">WrappingCylinder.h:170</a></div></div>
<div class="ttc" id="aclassbiorbd_1_1muscles_1_1WrappingCylinder_html_ab9cc980358bd8c310538e84eb8c69933"><div class="ttname"><a href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#ab9cc980358bd8c310538e84eb8c69933">biorbd::muscles::WrappingCylinder::m_RTtoParent</a></div><div class="ttdeci">std::shared_ptr&lt; biorbd::utils::RotoTrans &gt; m_RTtoParent</div><div class="ttdoc">RotoTrans matrix with the parent.</div><div class="ttdef"><b>Definition:</b> <a href="WrappingCylinder_8h_source.html#l00223">WrappingCylinder.h:223</a></div></div>
<div class="ttc" id="aclassbiorbd_1_1muscles_1_1WrappingCylinder_html_a813418cd2c5ae678170456cf7d6e8bfd"><div class="ttname"><a href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#a813418cd2c5ae678170456cf7d6e8bfd">biorbd::muscles::WrappingCylinder::checkIfWraps</a></div><div class="ttdeci">bool checkIfWraps(const NodeMusclePair &amp;pointsInGlobal, NodeMusclePair &amp;pointsToWrap) const</div><div class="ttdoc">Check if a wrapper has to be done.</div><div class="ttdef"><b>Definition:</b> <a href="WrappingCylinder_8cpp_source.html#l00273">WrappingCylinder.cpp:273</a></div></div>
<div class="ttc" id="aclassbiorbd_1_1muscles_1_1WrappingCylinder_html"><div class="ttname"><a href="classbiorbd_1_1muscles_1_1WrappingCylinder.html">biorbd::muscles::WrappingCylinder</a></div><div class="ttdoc">Cylinder object that makes the muscle to wrap around.</div><div class="ttdef"><b>Definition:</b> <a href="WrappingCylinder_8h_source.html#l00012">WrappingCylinder.h:12</a></div></div>
<div class="ttc" id="aclassbiorbd_1_1muscles_1_1WrappingCylinder_html_adca06f3c16509a250d4d1e8ae544d4fa"><div class="ttname"><a href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#adca06f3c16509a250d4d1e8ae544d4fa">biorbd::muscles::WrappingCylinder::m_length</a></div><div class="ttdeci">std::shared_ptr&lt; double &gt; m_length</div><div class="ttdoc">Length of the cylinder.</div><div class="ttdef"><b>Definition:</b> <a href="WrappingCylinder_8h_source.html#l00221">WrappingCylinder.h:221</a></div></div>
<div class="ttc" id="aclassbiorbd_1_1utils_1_1Vector3d_html"><div class="ttname"><a href="classbiorbd_1_1utils_1_1Vector3d.html">biorbd::utils::Vector3d</a></div><div class="ttdoc">Wrapper around Eigen Vector3d and attach it to a parent.</div><div class="ttdef"><b>Definition:</b> <a href="Vector3d_8h_source.html#l00016">Vector3d.h:16</a></div></div>
<div class="ttc" id="aclassbiorbd_1_1muscles_1_1WrappingCylinder_html_afb08343b429a9a4f8f094564d3686cb9"><div class="ttname"><a href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#afb08343b429a9a4f8f094564d3686cb9">biorbd::muscles::WrappingCylinder::findVerticalNode</a></div><div class="ttdeci">bool findVerticalNode(const NodeMusclePair &amp;pointsInGlobal, NodeMusclePair &amp;pointsToWrap) const</div><div class="ttdoc">Find the height of both points.</div><div class="ttdef"><b>Definition:</b> <a href="WrappingCylinder_8cpp_source.html#l00219">WrappingCylinder.cpp:219</a></div></div>
<div class="ttc" id="aclassbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair_html_a7ef006d705f4f1501b6ff25caa6324a8"><div class="ttname"><a href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html#a7ef006d705f4f1501b6ff25caa6324a8">biorbd::muscles::WrappingCylinder::NodeMusclePair::m_p1</a></div><div class="ttdeci">std::shared_ptr&lt; biorbd::utils::Vector3d &gt; m_p1</div><div class="ttdoc">Point 1.</div><div class="ttdef"><b>Definition:</b> <a href="WrappingCylinder_8h_source.html#l00169">WrappingCylinder.h:169</a></div></div>
<div class="ttc" id="aclassbiorbd_1_1muscles_1_1WrappingCylinder_html_a70aa97c2000cfe974ac20eabd3949227"><div class="ttname"><a href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#a70aa97c2000cfe974ac20eabd3949227">biorbd::muscles::WrappingCylinder::setLength</a></div><div class="ttdeci">void setLength(double val)</div><div class="ttdoc">Set the length of the cylinder.</div><div class="ttdef"><b>Definition:</b> <a href="WrappingCylinder_8cpp_source.html#l00173">WrappingCylinder.cpp:173</a></div></div>
<div class="ttc" id="aclassbiorbd_1_1utils_1_1Vector3d_html_ae0f5e1f02483e22b6817d35419e7a05a"><div class="ttname"><a href="classbiorbd_1_1utils_1_1Vector3d.html#ae0f5e1f02483e22b6817d35419e7a05a">biorbd::utils::Vector3d::DeepCopy</a></div><div class="ttdeci">biorbd::utils::Vector3d DeepCopy() const</div><div class="ttdoc">Deep copy of a 3D vector.</div><div class="ttdef"><b>Definition:</b> <a href="Vector3d_8cpp_source.html#l00040">Vector3d.cpp:40</a></div></div>
<div class="ttc" id="aclassbiorbd_1_1muscles_1_1WrappingCylinder_html_afe247c9e321084b58e66bdb57fffef81"><div class="ttname"><a href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#afe247c9e321084b58e66bdb57fffef81">biorbd::muscles::WrappingCylinder::m_p2Wrap</a></div><div class="ttdeci">std::shared_ptr&lt; biorbd::utils::Vector3d &gt; m_p2Wrap</div><div class="ttdoc">Second point of contact with the wrap.</div><div class="ttdef"><b>Definition:</b> <a href="WrappingCylinder_8h_source.html#l00226">WrappingCylinder.h:226</a></div></div>
<div class="ttc" id="aclassbiorbd_1_1muscles_1_1WrappingCylinder_html_a52f21a2ad33f49ace9850e3042fae424"><div class="ttname"><a href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#a52f21a2ad33f49ace9850e3042fae424">biorbd::muscles::WrappingCylinder::wrapPoints</a></div><div class="ttdeci">void wrapPoints(const biorbd::utils::RotoTrans &amp;rt, const biorbd::utils::Vector3d &amp;p1_bone, const biorbd::utils::Vector3d &amp;p2_bone, biorbd::utils::Vector3d &amp;p1, biorbd::utils::Vector3d &amp;p2, double *length=nullptr)</div><div class="ttdoc">From the position of the cylinder, return the 2 locations where the muscle leaves the wrapping object...</div><div class="ttdef"><b>Definition:</b> <a href="WrappingCylinder_8cpp_source.html#l00076">WrappingCylinder.cpp:76</a></div></div>
<div class="ttc" id="aclassbiorbd_1_1utils_1_1Vector3d_html_ade280f2a2ed7036f18693d6791750feb"><div class="ttname"><a href="classbiorbd_1_1utils_1_1Vector3d.html#ade280f2a2ed7036f18693d6791750feb">biorbd::utils::Vector3d::applyRT</a></div><div class="ttdeci">biorbd::utils::Vector3d applyRT(const RotoTrans &amp;rt) const</div><div class="ttdoc">Apply a RotoTrans to the 3D vector.</div><div class="ttdef"><b>Definition:</b> <a href="Vector3d_8cpp_source.html#l00053">Vector3d.cpp:53</a></div></div>
<div class="ttc" id="aclassbiorbd_1_1rigidbody_1_1GeneralizedCoordinates_html"><div class="ttname"><a href="classbiorbd_1_1rigidbody_1_1GeneralizedCoordinates.html">biorbd::rigidbody::GeneralizedCoordinates</a></div><div class="ttdoc">Class GeneralizedCoordinates.</div><div class="ttdef"><b>Definition:</b> <a href="GeneralizedCoordinates_8h_source.html#l00014">GeneralizedCoordinates.h:14</a></div></div>
<div class="ttc" id="aclassbiorbd_1_1muscles_1_1WrappingCylinder_html_a96d3dc5ff6d63af64c1ca0491d1946df"><div class="ttname"><a href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#a96d3dc5ff6d63af64c1ca0491d1946df">biorbd::muscles::WrappingCylinder::m_lengthAroundWrap</a></div><div class="ttdeci">std::shared_ptr&lt; double &gt; m_lengthAroundWrap</div><div class="ttdoc">Length between p1 and p2.</div><div class="ttdef"><b>Definition:</b> <a href="WrappingCylinder_8h_source.html#l00227">WrappingCylinder.h:227</a></div></div>
<div class="ttc" id="aclassbiorbd_1_1muscles_1_1WrappingCylinder_html_a16c19bdd35fdcad70b714f953fc622d5"><div class="ttname"><a href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#a16c19bdd35fdcad70b714f953fc622d5">biorbd::muscles::WrappingCylinder::length</a></div><div class="ttdeci">double length() const</div><div class="ttdoc">Return the length of the cylinder.</div><div class="ttdef"><b>Definition:</b> <a href="WrappingCylinder_8cpp_source.html#l00178">WrappingCylinder.cpp:178</a></div></div>
<div class="ttc" id="aclassbiorbd_1_1utils_1_1RotoTrans_html_a5120c116ae07693ae47e15885b83d5b5"><div class="ttname"><a href="classbiorbd_1_1utils_1_1RotoTrans.html#a5120c116ae07693ae47e15885b83d5b5">biorbd::utils::RotoTrans::transpose</a></div><div class="ttdeci">biorbd::utils::RotoTrans transpose() const</div><div class="ttdoc">Return the tranposed matrix.</div><div class="ttdef"><b>Definition:</b> <a href="RotoTrans_8cpp_source.html#l00071">RotoTrans.cpp:71</a></div></div>
<div class="ttc" id="aclassbiorbd_1_1muscles_1_1WrappingCylinder_html_a9e5d86574d10dd18ffb07ad2af5a8a64"><div class="ttname"><a href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#a9e5d86574d10dd18ffb07ad2af5a8a64">biorbd::muscles::WrappingCylinder::findTangentToCircle</a></div><div class="ttdeci">void findTangentToCircle(const biorbd::utils::Vector3d &amp;p, biorbd::utils::Vector3d &amp;p_tan) const</div><div class="ttdoc">Find the two tangents of a point with a circle.</div><div class="ttdef"><b>Definition:</b> <a href="WrappingCylinder_8cpp_source.html#l00183">WrappingCylinder.cpp:183</a></div></div>
<div class="ttc" id="aclassbiorbd_1_1rigidbody_1_1Joints_html_aa49b5f07580ec70850e8cfe76d1e2e96"><div class="ttname"><a href="classbiorbd_1_1rigidbody_1_1Joints.html#aa49b5f07580ec70850e8cfe76d1e2e96">biorbd::rigidbody::Joints::globalJCS</a></div><div class="ttdeci">biorbd::utils::RotoTrans globalJCS(const biorbd::rigidbody::GeneralizedCoordinates &amp;Q, const biorbd::utils::String &amp;name)</div><div class="ttdoc">Return the joint coordinate system (JCS) for the segment in global reference frame at a given Q.</div><div class="ttdef"><b>Definition:</b> <a href="Joints_8cpp_source.html#l00300">Joints.cpp:300</a></div></div>
<div class="ttc" id="aclassbiorbd_1_1muscles_1_1WrappingCylinder_html_ae5abc72ab4d4d1243b95a0e948827cd9"><div class="ttname"><a href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#ae5abc72ab4d4d1243b95a0e948827cd9">biorbd::muscles::WrappingCylinder::m_p1Wrap</a></div><div class="ttdeci">std::shared_ptr&lt; biorbd::utils::Vector3d &gt; m_p1Wrap</div><div class="ttdoc">First point of contact with the wrap.</div><div class="ttdef"><b>Definition:</b> <a href="WrappingCylinder_8h_source.html#l00225">WrappingCylinder.h:225</a></div></div>
<div class="ttc" id="aclassbiorbd_1_1rigidbody_1_1Joints_html"><div class="ttname"><a href="classbiorbd_1_1rigidbody_1_1Joints.html">biorbd::rigidbody::Joints</a></div><div class="ttdoc">This is the core of the musculoskeletal model in biorbd.</div><div class="ttdef"><b>Definition:</b> <a href="Joints_8h_source.html#l00033">Joints.h:33</a></div></div>
<div class="ttc" id="aclassbiorbd_1_1muscles_1_1WrappingCylinder_html_ab5987b65836ccbb1b49877059787d955"><div class="ttname"><a href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#ab5987b65836ccbb1b49877059787d955">biorbd::muscles::WrappingCylinder::DeepCopy</a></div><div class="ttdeci">biorbd::muscles::WrappingCylinder DeepCopy() const</div><div class="ttdoc">Deep copy of the wrapping cylinder.</div><div class="ttdef"><b>Definition:</b> <a href="WrappingCylinder_8cpp_source.html#l00057">WrappingCylinder.cpp:57</a></div></div>
<div class="ttc" id="aclassbiorbd_1_1utils_1_1RotoTrans_html"><div class="ttname"><a href="classbiorbd_1_1utils_1_1RotoTrans.html">biorbd::utils::RotoTrans</a></div><div class="ttdoc">Homogenous matrix to describe translations and rotations simultaneously.</div><div class="ttdef"><b>Definition:</b> <a href="RotoTrans_8h_source.html#l00028">RotoTrans.h:28</a></div></div>
<div class="ttc" id="aclassbiorbd_1_1muscles_1_1WrappingCylinder_html_a9f05c3191ffd38e07afc9d49f0c58bf7"><div class="ttname"><a href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#a9f05c3191ffd38e07afc9d49f0c58bf7">biorbd::muscles::WrappingCylinder::setDiameter</a></div><div class="ttdeci">void setDiameter(double val)</div><div class="ttdoc">Set the diameter of the wrapping cylinder.</div><div class="ttdef"><b>Definition:</b> <a href="WrappingCylinder_8cpp_source.html#l00158">WrappingCylinder.cpp:158</a></div></div>
<div class="ttc" id="aclassbiorbd_1_1muscles_1_1WrappingObject_html"><div class="ttname"><a href="classbiorbd_1_1muscles_1_1WrappingObject.html">biorbd::muscles::WrappingObject</a></div><div class="ttdoc">Base class for the wrapping objects.</div><div class="ttdef"><b>Definition:</b> <a href="WrappingObject_8h_source.html#l00021">WrappingObject.h:21</a></div></div>
<div class="ttc" id="aclassbiorbd_1_1muscles_1_1WrappingCylinder_html_a2a53bf18c68953fc32348de1ecf418ae"><div class="ttname"><a href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#a2a53bf18c68953fc32348de1ecf418ae">biorbd::muscles::WrappingCylinder::radius</a></div><div class="ttdeci">double radius() const</div><div class="ttdoc">Return the radius of the cylinder.</div><div class="ttdef"><b>Definition:</b> <a href="WrappingCylinder_8cpp_source.html#l00168">WrappingCylinder.cpp:168</a></div></div>
<div class="ttc" id="aclassbiorbd_1_1muscles_1_1WrappingCylinder_html_a46dea9e9b4303e4d25ae802452773144"><div class="ttname"><a href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#a46dea9e9b4303e4d25ae802452773144">biorbd::muscles::WrappingCylinder::selectTangents</a></div><div class="ttdeci">void selectTangents(const NodeMusclePair &amp;p, biorbd::utils::Vector3d &amp;p_tan) const</div><div class="ttdoc">Select between a set of nodes which ones to keep.</div><div class="ttdef"><b>Definition:</b> <a href="WrappingCylinder_8cpp_source.html#l00203">WrappingCylinder.cpp:203</a></div></div>
<div class="ttc" id="aclassbiorbd_1_1utils_1_1String_html"><div class="ttname"><a href="classbiorbd_1_1utils_1_1String.html">biorbd::utils::String</a></div><div class="ttdoc">Wrapper around the std::string class with augmented functionality.</div><div class="ttdef"><b>Definition:</b> <a href="String_8h_source.html#l00012">String.h:12</a></div></div>
<div class="ttc" id="aclassbiorbd_1_1muscles_1_1WrappingObject_html_a64c0a7884d3b09d7ab806bf1db7466ec"><div class="ttname"><a href="classbiorbd_1_1muscles_1_1WrappingObject.html#a64c0a7884d3b09d7ab806bf1db7466ec">biorbd::muscles::WrappingObject::RT</a></div><div class="ttdeci">const biorbd::utils::RotoTrans &amp; RT() const</div><div class="ttdoc">Return the RotoTrans matrix of the wrapping object.</div><div class="ttdef"><b>Definition:</b> <a href="WrappingObject_8cpp_source.html#l00058">WrappingObject.cpp:58</a></div></div>
<div class="ttc" id="aclassbiorbd_1_1muscles_1_1WrappingCylinder_html_a395c5d3bb55d1aed0a3c6aa1e9483b2a"><div class="ttname"><a href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#a395c5d3bb55d1aed0a3c6aa1e9483b2a">biorbd::muscles::WrappingCylinder::computeLength</a></div><div class="ttdeci">double computeLength(const NodeMusclePair &amp;p) const</div><div class="ttdoc">Compute the muscle length on the cylinder.</div><div class="ttdef"><b>Definition:</b> <a href="WrappingCylinder_8cpp_source.html#l00312">WrappingCylinder.cpp:312</a></div></div>
<div class="ttc" id="aclassbiorbd_1_1muscles_1_1WrappingCylinder_html_a315c5aa231607fee32116d74293eb153"><div class="ttname"><a href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#a315c5aa231607fee32116d74293eb153">biorbd::muscles::WrappingCylinder::m_dia</a></div><div class="ttdeci">std::shared_ptr&lt; double &gt; m_dia</div><div class="ttdoc">Diameter of the cylinder diametre du cylindre.</div><div class="ttdef"><b>Definition:</b> <a href="WrappingCylinder_8h_source.html#l00220">WrappingCylinder.h:220</a></div></div>
<div class="ttc" id="aclassbiorbd_1_1muscles_1_1WrappingCylinder_html_a9ddf0c3062bad32c83f7bf0717256e6a"><div class="ttname"><a href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#a9ddf0c3062bad32c83f7bf0717256e6a">biorbd::muscles::WrappingCylinder::diameter</a></div><div class="ttdeci">double diameter() const</div><div class="ttdoc">Return the diameter of the cylinder.</div><div class="ttdef"><b>Definition:</b> <a href="WrappingCylinder_8cpp_source.html#l00163">WrappingCylinder.cpp:163</a></div></div>
<div class="ttc" id="aclassbiorbd_1_1muscles_1_1WrappingCylinder_html_a202f7960a06fc3a28bc5ef53f5a2501c"><div class="ttname"><a href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#a202f7960a06fc3a28bc5ef53f5a2501c">biorbd::muscles::WrappingCylinder::m_isCylinderPositiveSign</a></div><div class="ttdeci">std::shared_ptr&lt; bool &gt; m_isCylinderPositiveSign</div><div class="ttdoc">orientation of the muscle passing</div><div class="ttdef"><b>Definition:</b> <a href="WrappingCylinder_8h_source.html#l00222">WrappingCylinder.h:222</a></div></div>
<div class="ttc" id="aclassbiorbd_1_1muscles_1_1WrappingCylinder_html_aa51cdc0eda1be00a1ca05ccfb5c2510c"><div class="ttname"><a href="classbiorbd_1_1muscles_1_1WrappingCylinder.html#aa51cdc0eda1be00a1ca05ccfb5c2510c">biorbd::muscles::WrappingCylinder::WrappingCylinder</a></div><div class="ttdeci">WrappingCylinder()</div><div class="ttdoc">Construct a wrapping cylinder.</div><div class="ttdef"><b>Definition:</b> <a href="WrappingCylinder_8cpp_source.html#l00008">WrappingCylinder.cpp:8</a></div></div>
<div class="ttc" id="aclassbiorbd_1_1rigidbody_1_1Joints_html_acc3c3c5153c8a4ae665618f6f92e0c97"><div class="ttname"><a href="classbiorbd_1_1rigidbody_1_1Joints.html#acc3c3c5153c8a4ae665618f6f92e0c97">biorbd::rigidbody::Joints::UpdateKinematicsCustom</a></div><div class="ttdeci">void UpdateKinematicsCustom(const biorbd::rigidbody::GeneralizedCoordinates *Q=nullptr, const biorbd::rigidbody::GeneralizedVelocity *Qdot=nullptr, const biorbd::rigidbody::GeneralizedAcceleration *Qddot=nullptr)</div><div class="ttdoc">Update the kinematic variables such as body velocities and accelerations in the model to reflect the ...</div><div class="ttdef"><b>Definition:</b> <a href="Joints_8cpp_source.html#l01114">Joints.cpp:1114</a></div></div>
<div class="ttc" id="aclassbiorbd_1_1utils_1_1Node_html_add835cd4134faf1df26adefb2c487264"><div class="ttname"><a href="classbiorbd_1_1utils_1_1Node.html#add835cd4134faf1df26adefb2c487264">biorbd::utils::Node::m_typeOfNode</a></div><div class="ttdeci">std::shared_ptr&lt; biorbd::utils::NODE_TYPE &gt; m_typeOfNode</div><div class="ttdoc">The type of the node.</div><div class="ttdef"><b>Definition:</b> <a href="Node_8h_source.html#l00093">Node.h:93</a></div></div>
<div class="ttc" id="aclassbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair_html"><div class="ttname"><a href="classbiorbd_1_1muscles_1_1WrappingCylinder_1_1NodeMusclePair.html">biorbd::muscles::WrappingCylinder::NodeMusclePair</a></div><div class="ttdoc">Pair of 2 muscles points.</div><div class="ttdef"><b>Definition:</b> <a href="WrappingCylinder_8h_source.html#l00156">WrappingCylinder.h:156</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
